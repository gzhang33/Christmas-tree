/**
 * Particle System Configuration
 * 粒子系统配置文件
 * 
 * 管理圣诞树粒子的分布、动画和视觉效果
 * 注意：此文件仅包含圣诞树场景的粒子配置，不包含 Landing Page 配置
 */

/**
 * 圣诞树粒子系统配置
 */
export const PARTICLE_CONFIG = {
    // ------------------------------------------------------------------------
    // 树形尺寸 (Tree Dimensions)
    // ------------------------------------------------------------------------
    treeHeight: 14,      // 树的高度
    treeBottomY: -5.5,   // 树底部的 Y 坐标

    // ------------------------------------------------------------------------
    // 粒子分布比例 (Particle Distribution Ratios)
    // 所有比例之和必须为 1.0
    // ------------------------------------------------------------------------
    ratios: {
        entity: 0.485,    // 48.5% - 树主体
        glow: 0.10,       // 10.0% - 光晕效果
        ornament: 0.155,  // 15.5% - 装饰球
        gift: 0.23,       // 23.0% - 礼物盒
        magicDust: 0.005, // 0.5% - 魔法尘埃螺旋光环
        treeBase: 0.025,  // 2.5% - 树底座
    },

    // ------------------------------------------------------------------------
    // 最小粒子数量 (Minimum Counts)
    // 确保在低粒子总数时各元素仍可见
    // ------------------------------------------------------------------------
    minCounts: {
        tree: 1000,      // 树主体最小粒子数
        ornament: 500,   // 装饰球最小粒子数
        gift: 500,       // 礼物盒最小粒子数
        magicDust: 100,  // 魔法尘埃最小粒子数
    },

    // ------------------------------------------------------------------------
    // 魔法尘埃特效配置 (Magic Dust Configuration)
    // ------------------------------------------------------------------------
    magicDust: {
        // 运动参数
        spiralTurns: 3.5,      // 螺旋圈数 (值越小坡度越陡, >20度)
        radiusOffset: 0.1,     // 距离树表面的距离 (关键参数)
        ascentSpeed: 0.15,      // 垂直上升速度
        rotationSpeed: 0.15,    // 轨道旋转速度

        // 视觉效果
        colors: ['#845696', '#b150e4', '#FFFAF0'], // 金色系
        minSize: 0.1,          // 最小粒子尺寸
        maxSize: 0.3,          // 最大粒子尺寸
        radiusVariation: 0.2,  // 半径随机变化
        angleVariation: 0.5,   // 角度随机变化
    },

    // ------------------------------------------------------------------------
    // 树动画配置 (Tree Animation)
    // 用于 Shader 呼吸/摇摆效果
    // ------------------------------------------------------------------------
    animation: {
        // 呼吸动画全局开关
        enableBreathing: false,

        // 呼吸动画频率 (多层有机运动)
        breatheFrequency1: 0.6,    // 主呼吸层
        breatheFrequency2: 1.2,    // 次呼吸层
        breatheFrequency3: 0.4,    // 第三呼吸层
        breatheAmplitude1: 0.15,   // 主呼吸幅度
        breatheAmplitude2: 0.10,   // 次呼吸幅度
        breatheAmplitude3: 0.08,   // 第三呼吸幅度

        // 摇摆动画 (树体摆动)
        swayFrequency: 0.5,        // 摇摆频率
        swayAmplitude: 0.15,       // 最大摇摆距离

        // 爆炸物理阻尼速度
        // 匹配 AC6 "Midnight Magic" 美学: 爆炸时高速度，回归时更快
        dampingSpeedExplosion: 0.02, // 爆炸时阻尼速度
        dampingSpeedReset: 0.05,     // 回归时阻尼速度
    },

    // ------------------------------------------------------------------------
    // 树底座配置 (Tree Base Configuration)
    // 用于解决树悬空视觉问题 (TREE-05)
    // 粒子数量比例由 ratios.treeBase 统一管理
    // ------------------------------------------------------------------------
    treeBase: {
        enabled: true,           // 是否启用底座粒子
        centerY: -5.8,           // 底座中心Y坐标
        innerRadius: 0.5,        // 内圈半径（树干位置）
        outerRadius: 5.0,        // 外圈半径
        heightSpread: 0.8,       // 高度分布范围
        densityFalloff: 0.6,     // 边缘密度衰减 (0-1, 值越大边缘越稀疏)
    },
} as const;

